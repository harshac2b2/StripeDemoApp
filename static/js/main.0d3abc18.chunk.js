(this.webpackJsonpviewproducts=this.webpackJsonpviewproducts||[]).push([[0],{65:function(e,t,c){},67:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(8),i=c.n(r),s=(c(65),c(35)),l=c.n(s),d=c(46),o=c(47),u=c(13),j=c(12),b=(c.p,c(67),c(29)),h=c(19),O=c(54),m=c(53),x=c(27),p=c.n(x),f=c(127),g=c(2),v=(n.Component,c(125)),C=c(128),y=c(126),k=c(52),_=(c(91),c(92),"products"),P="cart",S="checkout",E="confirm",I="failure";Object(k.a)("pk_test_TYooMQauvdEDq54NiTphI7jx");var q=function(){var e="http://localhost:50087/api/stripe/products",t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)([]),s=Object(j.a)(i,2),b=s[0],h=s[1],O=Object(n.useState)(_),m=Object(j.a)(O,2),x=m[0],k=m[1],q=Object(n.useState)(""),F=Object(j.a)(q,2),V=F[0],N=F[1],w=Object(n.useState)(""),z=Object(j.a)(w,2),A=z[0],B=z[1],D=Object(n.useState)(""),L=Object(j.a)(D,2),R=L[0],T=L[1];if(Object(n.useEffect)((function(){p.a.get(e).then((function(e){r(e.data)}))}),[e]),a){var W=function(e){k(e)},J=function(e){h(b.filter((function(t){return t!=e})))};function M(e,t,c){return $.apply(this,arguments)}function $(){return($=Object(d.a)(l.a.mark((function e(t,c,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(b),e.next=3,p.a.post("http://localhost:50087/api/stripe/charge",{amount:100*Number(b[0].product_cost),currency:"usd",description:"Purchased "+b[0].product_name,recipientEmail:document.getElementById("email").value,shipping:{name:document.getElementById("fullname").value,address:{line1:document.getElementById("addressline1").value,line2:null,city:document.getElementById("city").value,country:"USA",postal_code:document.getElementById("postalcode").value}}});case 3:a=e.sent,r=a.data.status,console.log("Response:",a.data),console.log("Status Value:",r),"Success"===r?(N(a.data.response_id),T(a.data.amount_charged),W(E),J(b[0])):(B(a.data.error),W(I));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{children:[Object(g.jsxs)(f.a,{color:"secondary",variant:"contained",size:"large",onClick:function(){return W(P)},children:["Go to Cart (",b.length,")"]}),Object(g.jsx)(f.a,{color:"secondary",variant:"contained",size:"large",onClick:function(){return W(_)},children:"View Products"}),Object(g.jsx)("h1",{children:"Doorbell Cameras"})]}),x===_&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Products"}),Object(g.jsx)("div",{className:"products",children:a.map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:e.product_name}),Object(g.jsxs)("h3",{children:["$",e.product_cost]}),Object(g.jsx)("img",{src:e.product_image,alt:e.product_name}),Object(g.jsx)(f.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return function(e){console.log("items added to cart"),h([].concat(Object(u.a)(b),[Object(o.a)({},e)])),W(P)}(e)},children:"Add to Cart"})]},e.id)}))})]}),x===P&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Cart"}),Object(g.jsx)(f.a,{color:"secondary",variant:"contained",size:"large",onClick:function(){return W(S)},children:"Check Out"}),Object(g.jsx)("div",{className:"products",children:b.map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:e.product_name}),Object(g.jsxs)("h3",{children:["$",e.product_cost]}),Object(g.jsx)("img",{src:e.product_image,alt:e.product_name}),Object(g.jsx)(f.a,{color:"primary",variant:"contained",size:"small",onClick:function(){return J(e)},children:"Remove from Cart"})]},e.id)}))})]}),x===S&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Check Out"}),Object(g.jsxs)(v.a,{container:!0,spacing:1,alignContent:"flex-start",children:[Object(g.jsx)(v.a,{item:!0,xs:12,align:"center",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(y.a,{required:!0,id:"fullname",label:"Full Name",defaultValue:"",variant:"outlined"})})}),Object(g.jsx)(v.a,{item:!0,xs:12,align:"center",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(y.a,{required:!0,id:"email",label:"Email Address",defaultValue:"",variant:"outlined"})})}),Object(g.jsx)(v.a,{item:!0,xs:12,align:"center",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(y.a,{required:!0,id:"addressline1",label:"Address Line1",defaultValue:"",variant:"outlined"})})}),Object(g.jsx)(v.a,{item:!0,xs:12,align:"center",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(y.a,{required:!0,id:"city",label:"City",defaultValue:"",variant:"outlined"})})}),Object(g.jsx)(v.a,{item:!0,xs:12,align:"center",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(y.a,{required:!0,id:"state",label:"State",defaultValue:"",variant:"outlined"})})}),Object(g.jsx)(v.a,{item:!0,xs:12,align:"center",children:Object(g.jsx)(C.a,{children:Object(g.jsx)(C.a,{children:Object(g.jsx)(y.a,{required:!0,id:"postalcode",label:"Zip Code",defaultValue:"",variant:"outlined"})})})}),Object(g.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(g.jsx)(y.a,{label:"Credit Card Number",name:"ccnumber",variant:"outlined",required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})}),Object(g.jsx)(v.a,{item:!0,xs:6,sm:3,children:Object(g.jsx)(y.a,{label:"Expiration Date",name:"ccexp",variant:"outlined",required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})}),Object(g.jsx)(v.a,{item:!0,xs:6,sm:2,children:Object(g.jsx)(y.a,{label:"CVC",name:"cvc",variant:"outlined",required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})}),Object(g.jsx)(v.a,{item:!0,xs:12,align:"center",children:Object(g.jsx)(f.a,{color:"primary",variant:"contained",onClick:M,children:"Pay"})})]})]}),x===E&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Payment Successful"}),Object(g.jsxs)("h2",{children:["ConfirmationID: ",V]}),Object(g.jsxs)("h3",{children:["AmountCharged: ",R]}),Object(g.jsx)(f.a,{color:"secondary",variant:"contained",size:"large",onClick:function(){return W(_)},children:"Return to Products"})]}),x===I&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Payment Failed!"}),Object(g.jsx)("h2",{children:"Do not re-attempt payment, reach out to customer care for more questions"}),Object(g.jsxs)("h3",{children:["Error: ",A]}),Object(g.jsx)(f.a,{color:"secondary",variant:"contained",size:"large",onClick:function(){return W(_)},children:"Return to Products"})]})]})}return Object(g.jsx)("div",{className:"App"})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,130)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(q,{})}),document.getElementById("root")),F()}},[[94,1,2]]]);
//# sourceMappingURL=main.0d3abc18.chunk.js.map